# 🚀 دليل رفع بوت أخبار الجزائر على Render

## 📋 المتطلبات المسبقة

1. **حساب Render**: إنشاء حساب مجاني على [render.com](https://render.com)
2. **مستودع Git**: رفع الكود إلى GitHub أو GitLab
3. **توكن البوت**: الحصول على توكن البوت من @BotFather
4. **معرف القناة**: معرف قناة التليجرام (مثال: @channel_name أو -1001234567890)

## 🔧 خطوات الرفع

### الخطوة 1: إعداد المستودع

1. ارفع الكود إلى GitHub:
```bash
git init
git add .
git commit -m "إعداد البوت للرفع على Render"
git branch -M main
git remote add origin https://github.com/username/repo-name.git
git push -u origin main
```

### الخطوة 2: إنشاء خدمة على Render

1. اذهب إلى [dashboard.render.com](https://dashboard.render.com)
2. اضغط على "New +" ثم اختر "Web Service"
3. اربط مستودع GitHub الخاص بك
4. اختر المستودع الذي يحتوي على البوت

### الخطوة 3: إعداد الخدمة

#### الإعدادات الأساسية:
- **Name**: `algeria-news-bot`
- **Environment**: `Python 3`
- **Region**: اختر الأقرب لك
- **Branch**: `main`
- **Build Command**: `pip install -r requirements.txt`
- **Start Command**: `python main.py`

#### متغيرات البيئة (Environment Variables):

أضف المتغيرات التالية في قسم "Environment Variables":

| المتغير | القيمة | الوصف |
|---------|--------|-------|
| `TELEGRAM_BOT_TOKEN` | `your_bot_token_here` | توكن البوت من @BotFather |
| `TELEGRAM_CHANNEL_ID` | `@your_channel` | معرف القناة أو المجموعة |
| `DATABASE_URL` | `sqlite:///news.db` | رابط قاعدة البيانات |
| `LOG_LEVEL` | `INFO` | مستوى التسجيل |
| `CACHE_DIR` | `/tmp/cache` | مجلد التخزين المؤقت |
| `RENDER` | `true` | مؤشر أن البوت يعمل على Render |

### الخطوة 4: الحصول على توكن البوت

1. اذهب إلى @BotFather على تليجرام
2. أرسل `/newbot` لإنشاء بوت جديد
3. اتبع التعليمات واختر اسم للبوت
4. احفظ التوكن الذي ستحصل عليه

### الخطوة 5: إعداد القناة

1. أنشئ قناة جديدة على تليجرام
2. أضف البوت كمدير للقناة
3. احصل على معرف القناة:
   - للقنوات العامة: `@channel_name`
   - للقنوات الخاصة: `-1001234567890`

### الخطوة 6: تشغيل الخدمة

1. اضغط على "Create Web Service"
2. انتظر حتى يكتمل البناء والتشغيل
3. تأكد من أن الحالة "Live"

## 🔍 مراقبة البوت

### سجلات التشغيل:
- اذهب إلى صفحة الخدمة على Render
- اضغط على "Logs" لمراقبة السجلات
- يمكنك رؤية رسائل البوت والأخطاء

### الإحصائيات:
- استخدم الأمر `/stats` في البوت لعرض الإحصائيات
- استخدم الأمر `/trends` لعرض المواضيع الرائجة

## ⚠️ ملاحظات مهمة

### حدود الخطة المجانية:
- **وقت التشغيل**: 750 ساعة شهرياً
- **الذاكرة**: 512 MB
- **التخزين**: 1 GB
- **المنفذ**: 100 GB شهرياً

### نصائح للتحسين:
1. **تقليل استهلاك الذاكرة**: البوت محسن للعمل بكفاءة
2. **مراقبة السجلات**: تحقق من السجلات بانتظام
3. **النسخ الاحتياطي**: احتفظ بنسخة من قاعدة البيانات

## 🛠️ استكشاف الأخطاء

### مشاكل شائعة:

#### 1. البوت لا يبدأ:
- تحقق من متغيرات البيئة
- راجع سجلات البناء
- تأكد من صحة التوكن

#### 2. البوت لا يرسل رسائل:
- تحقق من معرف القناة
- تأكد من أن البوت مدير في القناة
- راجع سجلات التشغيل

#### 3. مشاكل في قاعدة البيانات:
- قاعدة البيانات ستُنشأ تلقائياً
- تحقق من صلاحيات الكتابة

### أوامر مفيدة:
```bash
# فحص حالة الخدمة
curl https://your-app-name.onrender.com

# مراجعة السجلات
# (من خلال لوحة تحكم Render)
```

## 📞 الدعم

إذا واجهت أي مشاكل:
1. راجع سجلات Render
2. تحقق من متغيرات البيئة
3. تأكد من صحة التوكن ومعرف القناة
4. راجع هذا الدليل مرة أخرى

## 🎉 تهانينا!

بعد اتباع هذه الخطوات، سيعمل بوت أخبار الجزائر على Render بشكل مستمر وستصلك الأخبار تلقائياً! 🚀 